<div class="bg-background flex items-center justify-center p-4">
  <div class="w-full max-w-md">
    <div class="text-center mb-8">
      <h1 class="text-3xl font-bold text-foreground mb-2">Canviar contrasenya</h1>
      <p class="text-muted text-sm">Actualitza la teva contrasenya</p>
    </div>

    <div class="bg-card border border-border rounded-xl p-8 shadow-sm">
      <form (ngSubmit)="changePassword()" class="space-y-6">

        <!-- Contrasenya actual -->
        <div>
          <label for="currentPassword" class="block text-sm font-medium text-foreground mb-2">
            Contrasenya actual
          </label>
          <input
            type="password"
            id="currentPassword"
            [(ngModel)]="currentPassword"
            name="currentPassword"
            required
            class="w-full px-4 py-3 bg-input border border-border rounded-lg text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent"
            placeholder="••••••••"
          />
        </div>

        <!-- Nova contrasenya -->
        <div>
          <label for="newPassword" class="block text-sm font-medium text-foreground mb-2">
            Nova contrasenya
          </label>
          <div class="relative">
            <input
              [type]="mostrarContrasenya ? 'text' : 'password'"
              id="newPassword"
              [(ngModel)]="newPassword"
              name="newPassword"
              required
              class="w-full px-4 py-3 pr-12 bg-input border border-border rounded-lg text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent"
              placeholder="••••••••"
            />
            <button type="button" (click)="toggleContrasenya()"
              class="absolute right-3 top-1/2 -translate-y-1/2 p-1 rounded-md focus:outline-none focus:ring-2 focus:ring-accent">
              <ng-container *ngIf="!mostrarContrasenya; else eyeOff">
              </ng-container>
              <ng-template #eyeOff>
              </ng-template>
            </button>
          </div>
        </div>

        <!-- Confirmar contrasenya -->
        <div>
          <label for="confirmPassword" class="block text-sm font-medium text-foreground mb-2">
            Confirma nova contrasenya
          </label>
          <div class="relative">
            <input
              [type]="mostrarConfirmContrasenya ? 'text' : 'password'"
              id="confirmPassword"
              [(ngModel)]="confirmNewPassword"
              name="confirmNewPassword"
              required
              class="w-full px-4 py-3 pr-12 bg-input border border-border rounded-lg text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent"
              placeholder="••••••••"
            />
            <button type="button" (click)="toggleConfirmContrasenya()"
              class="absolute right-3 top-1/2 -translate-y-1/2 p-1 rounded-md focus:outline-none focus:ring-2 focus:ring-accent">
              <ng-container *ngIf="!mostrarConfirmContrasenya; else eyeOffConfirm">
              </ng-container>
              <ng-template #eyeOffConfirm>
              </ng-template>
            </button>
          </div>
        </div>
        <!-- Missatges -->
        <div *ngIf="errorMessage" class="p-4 bg-destructive/10 border border-destructive/20 rounded-lg">
          <p class="text-sm text-destructive font-medium">{{ errorMessage }}</p>
        </div>
        <div *ngIf="successMessage" class="p-4 bg-green-100 border border-green-200 rounded-lg">
          <p class="text-sm text-green-700 font-medium">{{ successMessage }}</p>
        </div>

        <button type="submit"
          class="w-full py-3 px-4 bg-accent hover:bg-accent-hover text-accent-foreground font-semibold rounded-lg focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 focus:ring-offset-background">
          Canviar contrasenya
        </button>

      </form>
    </div>
  </div>
</div>
